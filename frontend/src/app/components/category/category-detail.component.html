<div class="category-container">
    <div class="breadcrumb">
        <a class="back-icon" routerLink="/categories">Categories</a> / <span class="current">{{ categoryTitle }}</span>
    </div>

    <header class="category-header">
        <div class="text-content">
            <h1>
                <a class="back-icon" routerLink="/categories">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M19 12H5M12 19l-7-7 7-7" />
                    </svg>
                </a>
                {{ categoryTitle }}
            </h1>
            <p>Master the essential rules and structures for B2 level. Select a topic to start.</p>
        </div>
        <div class="search-bar">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" [(ngModel)]="searchTerm" (input)="onSearch()"
                placeholder="Search topics (e.g. Verbs)...">
        </div>
    </header>

    <div class="topics-grid skeleton-container" *ngIf="isLoading">
        <div class="skeleton-card" *ngFor="let i of [1,2,3,4]">
            <div class="skeleton-header">
                <div class="skeleton-icon"></div>
                <div class="skeleton-badge"></div>
            </div>
            <div class="skeleton-content">
                <div class="skeleton-title"></div>
                <div class="skeleton-text"></div>
                <div class="skeleton-text" style="width: 80%;"></div>
            </div>
            <div class="skeleton-footer"></div>
        </div>
    </div>

    <div class="topics-grid" *ngIf="!isLoading">
        <app-topic-card *ngFor="let topic of filteredTopics" [topic]="topic" (startTopic)="handleStartTopic($event)"
            (listTopic)="handleListTopic($event)"></app-topic-card>
    </div>
</div>