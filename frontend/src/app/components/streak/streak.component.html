<div class="streak-page">
    <div class="streak-container">
        <!-- Left Section -->
        <div class="left-section">
            <span class="subtitle">YOUR PATH TO SUCCESS</span>
            <h1 class="title">Set your<br>Daily Goal</h1>
            <p class="description">
                Consistency is the key to passing B2. Choose an achievable goal you can meet every day without fail.
            </p>

            <div class="stats-row">
                <div class="stat-box">
                    <span class="stat-label">Current Average</span>
                    <span class="stat-value">{{ numberOfAttempts }} exercises</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Current Streak</span>
                    <span class="stat-value">
                        {{ streak }}
                        <div class="lottie-container" *ngIf="streak >= 1">
                            <ng-lottie [options]="options" (animationCreated)="animationCreated($event)"
                                (complete)="onComplete()">
                            </ng-lottie>
                        </div>
                    </span>
                </div>
            </div>

            <div class="pro-tip">
                <div class="pro-tip-header">
                    <span class="pro-badge">
                        <div class="lottie-container-star">
                            <ng-lottie [options]="starOptions" (animationCreated)="starAnimationCreated($event)"
                                (complete)="onStarComplete()">
                            </ng-lottie>
                        </div>
                        Pro Tip
                    </span>
                </div>
                <p>Students who do at least 15 daily exercises are 40% more likely to pass.</p>
            </div>
        </div>

        <!-- Right Section -->
        <div class="right-section">
            <div class="goal-card">
                <h2>How many exercises do you want to do today?</h2>
                <p class="recommendation">Recommended: 15-20 exercises</p>

                <div class="counter-section">
                    <button class="counter-btn minus" (click)="decrement()" [disabled]="dailyGoal <= 1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                    <div class="counter-display">
                        <span class="counter-value">{{ dailyGoal }}</span>
                        <span class="counter-label">exercises / day</span>
                    </div>
                    <button class="counter-btn plus" (click)="increment()" [disabled]="dailyGoal >= 100">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                </div>

                <div class="info-row">
                    <div class="info-item">
                        <span class="info-icon">
                            <ng-lottie [options]="clockOptions" (animationCreated)="clockAnimationCreated($event)"
                                (complete)="onClockComplete()">
                            </ng-lottie>
                        </span>
                        <div class="info-text">
                            <span class="info-label">Estimated time</span>
                            <span class="info-value">~{{ estimatedMinutes }} minutes</span>
                        </div>
                    </div>
                    <div class="info-item">
                        <img class="info-icon-calendar" src="../svg/calendar.svg" alt="calendar">
                        <div class="info-text">
                            <span class="info-label">Weekly goal</span>
                            <span class="info-value">{{ weeklyExercises }} exercises</span>
                        </div>
                    </div>
                </div>

                <button class="save-btn" (click)="saveGoal()" [disabled]="saving">
                    <span *ngIf="!saving">âœ“ Save Goal</span>
                    <span *ngIf="saving">Saving...</span>
                </button>
                <button class="cancel-btn" (click)="cancel()">Cancel changes</button>
            </div>
        </div>
    </div>
</div>