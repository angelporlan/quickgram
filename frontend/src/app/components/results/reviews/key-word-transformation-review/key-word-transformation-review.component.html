<div class="review-list">
    <div class="review-card" *ngFor="let q of processedQuestions" [class.correct]="q.isCorrect"
        [class.incorrect]="!q.isCorrect">
        <div class="card-header-row">
            <span class="question-label">Question {{ q.id }}</span>
            <div class="status-icon">
                {{ q.isCorrect ? '✓' : '✕' }}
            </div>
        </div>

        <div class="first-sentence-box">
            <span class="section-label">Original Sentence:</span>
            <p class="first-sentence">{{ q.firstSentence }}</p>
        </div>

        <div class="keyword-display">
            <span class="keyword-label">Keyword:</span>
            <span class="keyword-value">{{ q.keyword }}</span>
        </div>

        <div class="second-sentence-box">
            <span class="section-label">Sentence to complete:</span>
            <p class="second-sentence-template">{{ q.secondSentence }}</p>
        </div>

        <div class="answers-section">
            <div class="answer-box user-answer" [class.wrong]="!q.isCorrect">
                <span class="answer-label">User Answer:</span>
                <div class="sentence-with-answer"
                    [innerHTML]="getCompleteSentence(q.secondSentence, q.userAnswer || '-')">
                </div>
            </div>

            <div class="answer-box correct-answer" *ngIf="!q.isCorrect">
                <span class="answer-label">Correct Answer:</span>
                <div class="sentence-with-answer" [innerHTML]="getCompleteSentence(q.secondSentence, q.correctAnswer)">
                </div>
            </div>

            <div class="answer-box other-answers" *ngIf="q.isCorrect && q.otherAnswers && q.otherAnswers.length > 0">
                <span class="answer-label">Other possible answers:</span>
                <div class="other-options-list">
                    <span *ngFor="let alt of q.otherAnswers; let last = last">
                        <span class="sentence-with-answer alternative"
                            [innerHTML]="getCompleteSentence(q.secondSentence, alt)"></span>
                        <span *ngIf="!last" class="separator"> / </span>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="empty-state" *ngIf="processedQuestions.length === 0">
    <p>No results to show.</p>
</div>