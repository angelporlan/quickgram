<div class="full-text-section" *ngIf="fullTextWithSolutions">
    <button class="toggle-text-btn" (click)="toggleFullText()">
        {{ showFullText ? 'Hide Full Text' : 'View Full Text with Solutions' }}
    </button>

    <div class="full-text-container" *ngIf="showFullText">
        <div class="text-content" [innerHTML]="removePointsFills(fullTextWithSolutions)"></div>
    </div>
</div>

<div class="review-list">
    <div class="review-card" *ngFor="let q of processedQuestions" [class.correct]="q.isCorrect"
        [class.incorrect]="!q.isCorrect">
        <div class="card-header-row">
            <span class="question-label">QUESTION {{ q.id }}</span>
            <div class="status-icon">
                {{ q.isCorrect ? '✓' : '✕' }}
            </div>
        </div>

        <p class="context-text">{{ q.context }}</p>

        <div class="answers-row">
            <div class="answer-box user-answer" [class.wrong]="!q.isCorrect">
                <span class="answer-label">YOUR ANSWER:</span>
                <span class="answer-val">{{ q.userAnswer || '-' }}</span>
            </div>

            <div class="answer-box correct-answer" *ngIf="!q.isCorrect">
                <span class="answer-label">CORRECT ANSWER:</span>
                <span class="answer-val">{{ q.correctAnswer }}</span>
            </div>

            <div class="answer-box other-answers" *ngIf="q.isCorrect && q.otherAnswers && q.otherAnswers.length > 0">
                <span class="answer-label">OTHER POSSIBLE ANSWERS:</span>
                <span class="answer-val alternative">{{ q.otherAnswers.join(' / ') }}</span>
            </div>
        </div>
    </div>
</div>