<div class="reset-password-container">
    <div class="reset-password-card">
        <h2>Reset Password</h2>
        <p *ngIf="!message">Enter your new password.</p>

        <form (ngSubmit)="onSubmit()" #resetForm="ngForm" *ngIf="!message && !error || (error && token)">
            <div class="form-group">
                <label for="password">New Password</label>
                <input type="password" id="password" name="password" [(ngModel)]="password" required minlength="6"
                    placeholder="Minimum 6 characters" [disabled]="isLoading">
            </div>

            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword"
                    required placeholder="Repeat password" [disabled]="isLoading">
            </div>

            <div class="messages">
                <p class="error-message" *ngIf="error">{{ error }}</p>
            </div>

            <button type="submit" [disabled]="!resetForm.form.valid || isLoading">
                {{ isLoading ? 'Resetting...' : 'Reset Password' }}
            </button>
        </form>

        <div class="messages" *ngIf="message">
            <p class="success-message">{{ message }}</p>
            <p class="redirect-info">Redirecting to login...</p>
        </div>

        <div class="back-link">
            <a routerLink="/login">Back to login</a>
        </div>
    </div>
</div>