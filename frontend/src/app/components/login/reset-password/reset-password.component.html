<div class="reset-password-container">
    <div class="reset-password-card">
        <h2>Restablecer Contraseña</h2>
        <p *ngIf="!message">Ingresa tu nueva contraseña.</p>

        <form (ngSubmit)="onSubmit()" #resetForm="ngForm" *ngIf="!message && !error || (error && token)">
            <div class="form-group">
                <label for="password">Nueva Contraseña</label>
                <input type="password" id="password" name="password" [(ngModel)]="password" required minlength="6"
                    placeholder="Mínimo 6 caracteres" [disabled]="isLoading">
            </div>

            <div class="form-group">
                <label for="confirmPassword">Confirmar Contraseña</label>
                <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword"
                    required placeholder="Repite la contraseña" [disabled]="isLoading">
            </div>

            <div class="messages">
                <p class="error-message" *ngIf="error">{{ error }}</p>
            </div>

            <button type="submit" [disabled]="!resetForm.form.valid || isLoading">
                {{ isLoading ? 'Restableciendo...' : 'Restablecer Contraseña' }}
            </button>
        </form>

        <div class="messages" *ngIf="message">
            <p class="success-message">{{ message }}</p>
            <p class="redirect-info">Redirigiendo al inicio de sesión...</p>
        </div>

        <div class="back-link">
            <a routerLink="/login">Volver al inicio de sesión</a>
        </div>
    </div>
</div>